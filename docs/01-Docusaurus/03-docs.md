---
title: Docs
sidebar_label: Docs
description: Docusaurus 專案 - 文件(Docs)
last_update:
  date: 2023-03-12
keywords:
  - Docusaurus
  - React
  - Docs
tags:
  - Docusaurus
---

與 Page 相似地， Docs 的功能主要由 `@docusaurus/plugin-content-docs` 套件提供，同樣若已安裝`@docusaurus/preset-classic` 套件，就不需要額外安裝這個套件，若沒有的話可以以下列指令安裝

```bash
# npm
npm install --save @docusaurus/plugin-content-docs

# yarn
yarn add @docusaurus/plugin-content-docs
```

## **建立 Docs**

作為組成 Dcoument 頁面的文件放置於 `docs`，以`資料夾`作為不同主題文章的分類。

- `intro.md` ->  `http://localhost:3000/docs/intro`: 預設的 Doc 首頁，若文章頂端未配置 `sidebar_label`， sidebar_label 則會根據第一個大標的名稱 `＃<大標名稱>` 來顯示文章名稱。
- 預設的文章目錄只會顯示 h2, h3 等級標題，可以透過修改 **front-matter** 來增加目錄顯示的標題等級。
- 任何使用 `_` 為 prefix 命名的文建會被視為 "`partial`" pages，不會被渲然成獨立的頁面，通常作為重複內容被其他頁面引用，詳細可參考 [importing partial pages](https://docusaurus.io/docs/markdown-features/react#importing-markdown)。

## **Docs-only mode**

預設情況下所有 `docs` 資料夾下的文件都會掛在 routeBasePath/docs/ 下，若網站只有 docs 需求，不需要其他單獨頁面或 blog，可以透過以下設置把  `docs` 資料夾下的文件掛在 root

```jsx
module.exports = {
  // ...
  presets: [
    '@docusaurus/preset-classic',
    {
      docs: {
        routeBasePath: '/', // Serve the docs at the site's root
        /* other docs plugin options */
      },
      ...
    },
  ],
};
```

## **更改 intro.md 檔名與網址後綴**

`doc` 資料夾中的 `intro.md` 文件預設為 Docs 頁面的路口，在本地開啟時的預設路由為 [http://localhost:3000/docs/intro](http://localhost:3000/docs/intro)，該檔案若改名為其他名稱會出現 `DocNavbarItem: couldn't find any doc with id "intro" in version current".` 這樣子的錯誤訊息，其原因是 `docusaurus.config.js` 設定檔中的下列這段設定認定 Doc 連結的入口文件其 id 為 “intro”，我們只需要注意此處設定的 **docId** 與 Docs 入口文件的 id 是相同的就不會報錯。

```jsx

themeConfig:
{
	...
	items: [
	  {
	    type: "doc",
	    docId: "intro",
	    position: "left",
	    label: "Docs",
	  },
    ...
  ]
}
```

:::tip
若將文件名稱改為 `index.md` ，Docusaurus 就會自動將該文件設置為預設文件，並使用目錄名作為文件網址。
ex: **[http://localhost:3000/docs/intro](http://localhost:3000/docs/intro) →** **[http://localhost:3000/docs/](http://localhost:3000/docs/intro)**
如此更能在網址上區分入口文件與其他筆記文件的差別
:::

## **Doc front matter**

front matter 用於為您的文檔頁面提供額外的 meta data，以下列出一些比較常會使用到的項目，參考 [Example configuration](https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-docs#ex-config) 作相應的配置

| Name | Type | Default | Description |
| --- | --- | --- | --- |
| id | string | file path (including folders, without the extension) | A unique document ID. |
| title | string | Markdown title or id | The text title of your document. Used for the page metadata and as a fallback value in multiple places (sidebar, next/previous buttons...). Automatically added at the top of your doc if it does not contain any Markdown title. |
| sidebar_label | string | title | The text shown in the document sidebar for this document. |
| sidebar_position | number | Default ordering | Controls the position of a doc inside the generated sidebar slice when using autogenerated sidebar items. See also Autogenerated sidebar metadata. |
| keywords | string[] | undefined | Keywords meta tag for the document page, for search engines. |
| description | string | The first line of Markdown content | The description of your document, which will become the ```<meta name="description" content="..."/>``` and ```<meta property="og:description" content="..."/>``` in ```<head>```, used by search engines. |
| slug | string | File path | Allows to customize the document URL (/```<routeBasePath>```/```<slug>```). Support multiple patterns: slug: my-doc, slug: /my/path/myDoc, slug: /. |
| tags | Tag[] | undefined | A list of strings or objects of two string fields label and permalink to tag to your docs. |
| draft | boolean | false | A boolean flag to indicate that a document is a work-in-progress. Draft documents will only be displayed during development. |
| last_update | FileChange | undefined | Allows overriding the last updated author and/or date. Date can be any parsable date string. |
| hide_table_of_contents | boolean | false | Whether to hide the table of contents to the right. |

這邊放上我的 front matter 模板:
```yaml
title: 文章標題
sidebar_label: 文章於側邊目錄顯示的名稱
description: 文章描述文字
last_update:
  date: yyyy-mm-dd
keywords:
  - keyword1
  - keyword2
tags:
  - tag1
  - tag2
```

:::tip
- id: 預設為檔名，用於作為網址後綴，就不另外設定
- title: 文章標題的預設順位為: `title` > `放至於最頂端的 head1` > `檔名`，若文章中的 head1 不是放在文章最頂端，head1 的大小會被縮小至與 head2 相同，這就顯得有點奇怪，因此還是另外設定 title 不要依賴 head1 作為文章標題比較保險。
- sidebar_label: 側邊欄名稱的預設順位為: `sidebar_label` > `title` > `放至於最頂端的 head1` > `檔名`
:::

![head1放開頭](https://res.cloudinary.com/djtoo8orh/image/upload/v1677130583/Docusaurus%20Blog/Docusaurus/docs/head1%E6%94%BE%E9%96%8B%E9%A0%AD_tujot3.png)

![head1沒放開頭](https://res.cloudinary.com/djtoo8orh/image/upload/v1677130583/Docusaurus%20Blog/Docusaurus/docs/head1%E6%B2%92%E6%94%BE%E9%96%8B%E9%A0%AD_volpgt.png)


<br/>


## **Sidebar**
### **Theme configuration**

- `themeConfig.docs.sidebar.hideable`: 使整個側邊欄可隱藏
- `themeConfig.docs.sidebar.autoCollapseCategories`: 擴展一個類別時會折疊所有同級類別。這樣可以避免讀者打開太多類別，並幫助他們專注於所選部分。

```jsx
module.exports = {
  themeConfig: {
    docs: {
      sidebar: {
        hideable: true,
		autoCollapseCategories: true,
      },
    },
  },
};
```

### **Autogenerated sidebar**
預設的 sidebar 配置為:
```js title=./sidebars.js
const sidebars = {
  ...
  tutorialSidebar: [{type: 'autogenerated', dirName: '.'}],
  ...
}
```
Docusaurus 會自動生成側邊欄內容， `docs` 的資料夾結構將決定側邊欄結構。個別文章主題的資料夾內可以透過 `_category_.json`  來客製化配置：

- `label`: 側邊欄顯示的名稱
- `position`: 側邊欄位置
- `link`: 若有該項，文章主題資料夾將會作為一個獨立頁面

```json
{
  "label": "側邊欄顯示的名稱",
  "position": 側邊欄位置 (0-indexed),
  "link": {
    "type": "generated-index",
    "description": "文章種類描述"
  }
}
```
:::info
詳細可配置參數可參考 [Category item metadata](https://docusaurus.io/docs/sidebar/autogenerated#category-item-metadata) (@Docusaurus)
:::

在 `autogenerated` 模式下，若要手動調整文章在 sidebar 中的順序有兩中方式：
1. 在文章的開頭 `front matter` 加入:
```md 
sidebar_position: 2
```
2. 以`數字前綴`命名檔案 (`prefer`)
```json
docs
├── 01-Intro.md
├── 02-Tutorial-Easy
│   ├── 01-First-Part.md
│   ├── 02-Second-Part.md
│   └── 03-End.md
├── 03-Tutorial-Hard
│   ├── 01-First-Part.md
│   ├── 02-Second-Part.md
│   ├── 03-Third-Part.md
│   └── 04-End.md
└── 04-End.md
```
:::tip
若以數字作為前綴命名文章， Docusaurus 預設會把數字前綴去掉後的檔名作為 id，因此網址上不會出現數字前綴字樣，並且，在文章中要 refer to 其他文章時，即便該篇文章檔名前面有數字前綴，也不需要加數字前綴，ex:
```shell
# 網址： /docs/Tutorial-Hard/First-Part
[Tutorial-Hard - First-part](./Tutorial-Hard/First-Part.md)
```
即便 refer 的文章檔名的數字前綴改變了，link 也不會失效。
:::

<br/>


## **Reference**
- [Docs Introduction](https://docusaurus.io/docs/docs-introduction)
- [📦 plugin-content-docs](https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-docs)
- [Markdown front matter](https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-docs#markdown-front-matter)


