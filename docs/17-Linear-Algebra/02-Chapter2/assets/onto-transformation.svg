<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 340">
  <defs>
    <pattern id="gridOnto" width="20" height="20" patternUnits="userSpaceOnUse">
      <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e0e0e0" stroke-width="0.5"/>
    </pattern>
  </defs>
  
  <text x="450" y="28" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#212529" text-anchor="middle">Onto vs. Not Onto Linear Transformation</text>
  
  <!-- ===== LEFT: ONTO (座標基準點 x=50, y=55) ===== -->
  <g transform="translate(50, 55)">
    <text x="160" y="0" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#28a745" text-anchor="middle">ONTO (Surjective)</text>
    <text x="160" y="18" font-family="Arial, sans-serif" font-size="11" fill="#6c757d" text-anchor="middle">Range(T) = Codomain</text>
    
    <!-- 背景框 -->
    <rect x="20" y="35" width="120" height="120" fill="#e3f2fd" stroke="#1976d2" stroke-width="1" rx="5"/>
    <rect x="25" y="40" width="110" height="110" fill="url(#gridOnto)"/>
    <text x="80" y="27" font-family="Arial, sans-serif" font-size="11" fill="#1976d2" text-anchor="middle" font-weight="bold">Domain</text>

    <rect x="220" y="35" width="120" height="120" fill="#e8f5e9" stroke="#28a745" stroke-width="2" rx="5"/>
    <rect x="225" y="40" width="110" height="110" fill="url(#gridOnto)"/>
    <text x="280" y="27" font-family="Arial, sans-serif" font-size="11" fill="#28a745" text-anchor="middle" font-weight="bold">Codomain</text>
    <rect x="225" y="40" width="110" height="110" fill="#28a745" opacity="0.1" rx="3"/>

    <!-- 1. 連線 (先畫，位於點下方) -->
    <!-- 點1: (50, 65) -> (250, 65) -->
    <line x1="50" y1="65" x2="250" y2="65" stroke="#2196f3" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite"/>
    </line>
    <!-- 點2: (110, 65) -> (310, 65) -->
    <line x1="110" y1="65" x2="310" y2="65" stroke="#9c27b0" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite" begin="0.2s"/>
    </line>
    <!-- 點3: (80, 95) -> (280, 95) -->
    <line x1="80" y1="95" x2="280" y2="95" stroke="#ff9800" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite" begin="0.4s"/>
    </line>
    <!-- 點4: (50, 125) -> (250, 125) -->
    <line x1="50" y1="125" x2="250" y2="125" stroke="#4caf50" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite" begin="0.6s"/>
    </line>
    <!-- 點5: (110, 125) -> (310, 125) -->
    <line x1="110" y1="125" x2="310" y2="125" stroke="#e91e63" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite" begin="0.8s"/>
    </line>

    <!-- 2. 圓點 (後畫，蓋在線上) -->
    <!-- Domain Points -->
    <circle cx="50" cy="65" r="5" fill="#2196f3"/>
    <circle cx="110" cy="65" r="5" fill="#9c27b0"/>
    <circle cx="80" cy="95" r="5" fill="#ff9800"/>
    <circle cx="50" cy="125" r="5" fill="#4caf50"/>
    <circle cx="110" cy="125" r="5" fill="#e91e63"/>
    <!-- Codomain Points -->
    <circle cx="250" cy="65" r="5" fill="#2196f3"/>
    <circle cx="310" cy="65" r="5" fill="#9c27b0"/>
    <circle cx="280" cy="95" r="5" fill="#ff9800"/>
    <circle cx="250" cy="125" r="5" fill="#4caf50"/>
    <circle cx="310" cy="125" r="5" fill="#e91e63"/>

    <text x="180" y="45" font-family="Arial, sans-serif" font-size="12" fill="#6c757d" text-anchor="middle" font-style="italic">T</text>
    <text x="160" y="175" font-family="Arial, sans-serif" font-size="10" fill="#495057" text-anchor="middle">Every point in Codomain</text>
    <text x="160" y="190" font-family="Arial, sans-serif" font-size="10" fill="#495057" text-anchor="middle">has a corresponding point in Domain</text>
    <text x="160" y="210" font-family="Arial, sans-serif" font-size="11" fill="#28a745" text-anchor="middle" font-weight="bold">rank(A) = m</text>
  </g>
  
  <!-- ===== RIGHT: NOT ONTO (座標基準點 x=500, y=55) ===== -->
  <g transform="translate(500, 55)">
    <text x="160" y="0" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#dc3545" text-anchor="middle">NOT ONTO</text>
    <text x="160" y="18" font-family="Arial, sans-serif" font-size="11" fill="#6c757d" text-anchor="middle">Range(T) ⊂ Codomain</text>
    
    <rect x="20" y="35" width="120" height="120" fill="#e3f2fd" stroke="#1976d2" stroke-width="1" rx="5"/>
    <rect x="25" y="40" width="110" height="110" fill="url(#gridOnto)"/>
    <text x="80" y="27" font-family="Arial, sans-serif" font-size="11" fill="#1976d2" text-anchor="middle" font-weight="bold">Domain</text>

    <rect x="220" y="35" width="120" height="120" fill="#fff5f5" stroke="#6c757d" stroke-width="1" rx="5"/>
    <rect x="225" y="40" width="110" height="110" fill="url(#gridOnto)"/>
    <text x="280" y="27" font-family="Arial, sans-serif" font-size="11" fill="#6c757d" text-anchor="middle" font-weight="bold">Codomain</text>
    <line x1="230" y1="140" x2="330" y2="50" stroke="#dc3545" stroke-width="2" opacity="0.4"/>

    <!-- 1. 連線 (Mapping to points on the line) -->
    <line x1="50" y1="65" x2="245" y2="123" stroke="#2196f3" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite"/>
    </line>
    <line x1="80" y1="85" x2="265" y2="107" stroke="#9c27b0" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite" begin="0.2s"/>
    </line>
    <line x1="110" y1="105" x2="280" y2="95" stroke="#ff9800" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite" begin="0.4s"/>
    </line>
    <line x1="70" y1="125" x2="300" y2="79" stroke="#4caf50" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite" begin="0.6s"/>
    </line>
    <line x1="100" y1="135" x2="320" y2="63" stroke="#e91e63" stroke-width="1.5" stroke-dasharray="3,2" opacity="0">
      <animate attributeName="opacity" values="0;0.7;0" dur="4s" repeatCount="indefinite" begin="0.8s"/>
    </line>

    <!-- 2. 圓點 -->
    <!-- Domain -->
    <circle cx="50" cy="65" r="5" fill="#2196f3"/>
    <circle cx="80" cy="85" r="5" fill="#9c27b0"/>
    <circle cx="110" cy="105" r="5" fill="#ff9800"/>
    <circle cx="70" cy="125" r="5" fill="#4caf50"/>
    <circle cx="100" cy="135" r="5" fill="#e91e63"/>
    <!-- Codomain (On the line) -->
    <circle cx="245" cy="123" r="5" fill="#2196f3"/>
    <circle cx="265" cy="107" r="5" fill="#9c27b0"/>
    <circle cx="280" cy="95" r="5" fill="#ff9800"/>
    <circle cx="300" cy="79" r="5" fill="#4caf50"/>
    <circle cx="320" cy="63" r="5" fill="#e91e63"/>
    <!-- Unreachable points -->
    <circle cx="250" cy="65" r="4" fill="none" stroke="#adb5bd" stroke-dasharray="2,1"/>
    <circle cx="310" cy="120" r="4" fill="none" stroke="#adb5bd" stroke-dasharray="2,1"/>
    <text x="255" y="60" font-family="Arial, sans-serif" font-size="8" fill="#adb5bd" font-style="italic">unreachable</text>
    <text x="295" y="140" font-family="Arial, sans-serif" font-size="8" fill="#adb5bd" font-style="italic">unreachable</text>

    <text x="180" y="45" font-family="Arial, sans-serif" font-size="12" fill="#6c757d" text-anchor="middle" font-style="italic">T</text>
    <text x="160" y="175" font-family="Arial, sans-serif" font-size="10" fill="#495057" text-anchor="middle">Some points in Codomain</text>
    <text x="160" y="190" font-family="Arial, sans-serif" font-size="10" fill="#495057" text-anchor="middle">have NO corresponding point in Domain</text>
    <text x="160" y="210" font-family="Arial, sans-serif" font-size="11" fill="#dc3545" text-anchor="middle" font-weight="bold">rank(A) &lt; m</text>
  </g>
</svg>
