<svg width="600" height="400" viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg">
  <style>
    .grid { stroke: #e9ecef; stroke-width: 1; }
    .axis { stroke: #adb5bd; stroke-width: 2; }
    .vector-u { stroke: #ff4757; stroke-width: 4; marker-end: url(#arrow-u); }
    .vector-v { stroke: #2ed573; stroke-width: 4; marker-end: url(#arrow-v); }
    .area { fill: rgba(13, 110, 253, 0.2); stroke: #0d6efd; stroke-width: 2; stroke-dasharray: 4; }
    .height-line { stroke: #6c757d; stroke-width: 1.5; stroke-dasharray: 4; }
    .text { font-family: 'Inter', system-ui, -apple-system, sans-serif; font-size: 14px; }
    .label { font-weight: 600; }
    .formula { font-family: 'Courier New', monospace; font-size: 16px; font-weight: bold; }
    .area-label { font-size: 18px; font-weight: bold; fill: #0d6efd; }
  </style>

  <defs>
    <marker id="arrow-u" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#ff4757" />
    </marker>
    <marker id="arrow-v" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#2ed573" />
    </marker>
  </defs>

  <!-- Background Grid -->
  <g class="grid">
    <path d="M 0 50 H 600 M 0 100 H 600 M 0 150 H 600 M 0 200 H 600 M 0 250 H 600 M 0 300 H 600 M 0 350 H 600" />
    <path d="M 50 0 V 400 M 100 0 V 400 M 150 0 V 400 M 200 0 V 400 M 250 0 V 400 M 300 0 V 400 M 350 0 V 400 M 400 0 V 400 M 450 0 V 400 M 500 0 V 400 M 550 0 V 400" />
  </g>

  <!-- Axes -->
  <line x1="300" y1="0" x2="300" y2="400" class="axis" />
  <line x1="0" y1="250" x2="600" y2="250" class="axis" />

  <!-- Origin -->
  <circle cx="300" cy="250" r="4" fill="#212529" />

  <!-- Height Indicator (Only visible during Shear) -->
  <g id="height-indicator">
    <line x1="400" y1="250" x2="400" y2="150" class="height-line">
      <animate attributeName="visibility" values="hidden;hidden;hidden;visible;visible;hidden;hidden" dur="16s" repeatCount="indefinite" />
    </line>
    <text x="410" y="200" class="text" fill="#6c757d">
      <animate attributeName="visibility" values="hidden;hidden;hidden;visible;visible;hidden;hidden" dur="16s" repeatCount="indefinite" />
      Constant Height
    </text>
  </g>

  <!-- Parallelogram Area -->
  <polygon class="area" points="300,250 400,250 450,150 350,150">
    <animate attributeName="points" 
      values="300,250 400,250 450,150 350,150; 
              300,250 400,250 450,150 350,150;
              300,250 400,250 475,100 375,100;
              300,250 400,250 450,150 350,150;
              300,250 400,250 550,150 450,150;
              300,250 400,250 450,150 350,150;
              300,250 350,150 450,150 400,250;
              300,250 400,250 450,150 350,150" 
      keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.9; 1"
      dur="16s" repeatCount="indefinite" />
  </polygon>

  <!-- Vector V (Base) -->
  <line class="vector-v" x1="300" y1="250" x2="400" y2="250">
    <animate attributeName="x2" values="400;400;400;400;400;400;350;400" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.9; 1" dur="16s" repeatCount="indefinite" />
    <animate attributeName="y2" values="250;250;250;250;250;250;150;250" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.9; 1" dur="16s" repeatCount="indefinite" />
  </line>
  
  <!-- Vector U -->
  <line class="vector-u" x1="300" y1="250" x2="350" y2="150">
    <animate attributeName="x2" values="350;350;375;350;450;350;400;350" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.9; 1" dur="16s" repeatCount="indefinite" />
    <animate attributeName="y2" values="150;150;100;150;150;150;250;150" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.9; 1" dur="16s" repeatCount="indefinite" />
  </line>

  <!-- Labels -->
  <text class="text label" fill="#ff4757" x="355" y="145">u
    <animate attributeName="x" values="355;355;380;355;455;355;405;355" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.9; 1" dur="16s" repeatCount="indefinite" />
    <animate attributeName="y" values="145;145;95;145;145;145;245;145" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.9; 1" dur="16s" repeatCount="indefinite" />
  </text>
  <text class="text label" fill="#2ed573" x="410" y="270">v
    <animate attributeName="x" values="410;410;410;410;410;410;360;410" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.9; 1" dur="16s" repeatCount="indefinite" />
    <animate attributeName="y" values="270;270;270;270;270;270;140;270" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.9; 1" dur="16s" repeatCount="indefinite" />
  </text>

  <!-- Operation Description Box -->
  <rect x="20" y="20" width="300" height="120" rx="8" fill="white" stroke="#dee2e6" filter="drop-shadow(0 2px 4px rgba(0,0,0,0.1))" />
  <text class="text" x="40" y="50" font-weight="bold" fill="#495057">Operation:</text>
  
  <!-- Text Switcher -->
  <g class="formula">
    <text x="40" y="80" fill="#0d6efd">
      <animate attributeName="visibility" values="visible;visible;hidden;hidden;hidden;hidden;hidden;visible" keyTimes="0; 0.15; 0.1501; 0.4501; 0.8001; 0.9001; 0.9999; 1" dur="16s" repeatCount="indefinite" />
      Base State: det(A)
    </text>
    <text x="40" y="80" fill="#d63384">
      <animate attributeName="visibility" values="hidden;hidden;visible;visible;hidden;hidden;hidden;hidden" keyTimes="0; 0.15; 0.1501; 0.45; 0.4501; 0.8001; 0.9001; 1" dur="16s" repeatCount="indefinite" />
      Scaling: det(kA) = kÂ·det(A)
    </text>
    <text x="40" y="80" fill="#6610f2">
      <animate attributeName="visibility" values="hidden;hidden;hidden;hidden;visible;visible;hidden;hidden" keyTimes="0; 0.15; 0.3; 0.45; 0.4501; 0.8; 0.8001; 1" dur="16s" repeatCount="indefinite" />
      Addition: Area Preserved
    </text>
    <text x="40" y="80" fill="#fd7e14">
      <animate attributeName="visibility" values="hidden;hidden;hidden;hidden;hidden;hidden;visible;hidden" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.8001; 1" dur="16s" repeatCount="indefinite" />
      Swap: det(B) = -det(A)
    </text>
  </g>

  <!-- Area Counter -->
  <text x="40" y="115" class="area-label">Area: 
    <tspan fill="#0d6efd">
      <animate attributeName="visibility" values="visible;visible;hidden;hidden;visible;visible;hidden;visible" keyTimes="0; 0.15; 0.1501; 0.45; 0.4501; 0.8; 0.8001; 1" dur="16s" repeatCount="indefinite" />
      1.0
    </tspan>
    <tspan fill="#d63384">
      <animate attributeName="visibility" values="hidden;hidden;visible;visible;hidden;hidden;hidden;hidden" keyTimes="0; 0.15; 0.1501; 0.45; 0.4501; 0.8; 0.8001; 1" dur="16s" repeatCount="indefinite" />
      1.5
    </tspan>
    <tspan fill="#fd7e14">
      <animate attributeName="visibility" values="hidden;hidden;hidden;hidden;hidden;hidden;visible;hidden" keyTimes="0; 0.15; 0.3; 0.45; 0.65; 0.8; 0.8001; 1" dur="16s" repeatCount="indefinite" />
      -1.0
    </tspan>
  </text>
</svg>
